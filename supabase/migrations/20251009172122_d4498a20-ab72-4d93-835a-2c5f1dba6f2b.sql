-- Primero, verificar y eliminar la restricción de numero+producto si existe
DO $$ 
BEGIN
  IF EXISTS (
    SELECT 1 FROM pg_constraint 
    WHERE conname = 'repuestos_numero_producto_unique'
  ) THEN
    ALTER TABLE repuestos DROP CONSTRAINT repuestos_numero_producto_unique;
  END IF;
END $$;

-- Agregar restricción única en codigo si no existe
DO $$ 
BEGIN
  IF NOT EXISTS (
    SELECT 1 FROM pg_constraint 
    WHERE conname = 'repuestos_codigo_key'
  ) THEN
    ALTER TABLE repuestos ADD CONSTRAINT repuestos_codigo_key UNIQUE (codigo);
  END IF;
END $$;

-- Insertar repuestos para el producto 12909 (LAGAS-3300)
INSERT INTO repuestos (numero, codigo, clave, descripcion, codigo_producto) VALUES
('2', '933278', 'R2-LAGAS-3300', 'Tornillo M6X45', '12909'),
('3', '933279', 'R3-LAGAS-3300', 'Arandela plana Ø 6', '12909'),
('4', '933280', 'R4-LAGAS-3300', 'Tuerca de seguridad M6', '12909'),
('5', '933281', 'R5-LAGAS-3300', 'Tanque de Jabón', '12909'),
('6', '933282', 'R6-LAGAS-3300', 'Tapón de Tanque', '12909'),
('7', '933283', 'R7-LAGAS-3300', 'Soporte de Lanza', '12909'),
('8', '933284', 'R8-LAGAS-3300', 'Tuerca de seguridad M8', '12909'),
('9', '933285', 'R9-LAGAS-3300', 'Pata Niveladora', '12909'),
('10', '933286', 'R10-LAGAS-3300', 'Sujetador', '12909'),
('11', '933287', 'R11-LAGAS-3300', 'Tuerca M8', '12909'),
('12', '933288', 'R12-LAGAS-3300', 'Amortiguador', '12909'),
('13', '933289', 'R13-LAGAS-3300', 'Ruedas', '12909'),
('14', '933290', 'R14-LAGAS-3300', 'Perno', '12909'),
('15', '933291', 'R15-LAGAS-3300', 'Chavetas', '12909'),
('16', '933292', 'R16-LAGAS-3300', 'Marco', '12909'),
('17', '933293', 'R17-LAGAS-3300', 'Seguro para tubular', '12909'),
('18', '933294', 'R18-LAGAS-3300', 'Soporte para Pistola', '12909'),
('19', '933295', 'R19-LAGAS-3300', 'Tornillo de Expansión', '12909'),
('20', '933296', 'R20-LAGAS-3300', 'Base de Boquilla', '12909'),
('21', '933297', 'R21-LAGAS-3300', 'Manubrio', '12909'),
('22', '933298', 'R22-LAGAS-3300', 'Protector de Manubrio', '12909'),
('23', '933299', 'R23-LAGAS-3300', 'Seguro de Cuerda', '12909'),
('24', '933300', 'R24-LAGAS-3300', 'Cuerda', '12909'),
('25', '933301', 'R25-LAGAS-3300', 'Tablero', '12909'),
('26', '933302', 'R26-LAGAS-3300', 'Manguera de succón Jabón', '12909'),
('27', '933303', 'R27-LAGAS-3300', 'Ens. Bomba', '12909'),
('28', '933304', 'R28-LAGAS-3300', 'Tornillo M8X20', '12909'),
('29', '933305', 'R29-LAGAS-3300', 'Cuñero 5X45', '12909'),
('30', '933306', 'R30-LAGAS-3300', 'Lanza', '12909'),
('31', '933307', 'R31-LAGAS-3300', 'Pistón', '12909'),
('32', '933308', 'R32-LAGAS-3300', 'Destapa espreas', '12909'),
('33', '933309', 'R33-LAGAS-3300', 'El tubo de plástico', '12909'),
('34', '933310', 'R34-LAGAS-3300', 'Manguera de Pistola', '12909'),
('35', '933311', 'R35-LAGAS-3300', 'Esprea Roja 0°', '12909'),
('36', '933312', 'R36-LAGAS-3300', 'Esprea Amarilla 15°', '12909'),
('37', '933313', 'R37-LAGAS-3300', 'Esprea Verde 25°', '12909'),
('38', '933314', 'R38-LAGAS-3300', 'Esprea Blanca 40°', '12909'),
('39', '933315', 'R39-LAGAS-3300', 'Esprea Negra para Shampoo', '12909'),
('1', '933316', 'RM1-LAGAS-3300', 'Carter', '12909'),
('2', '933317', 'RM2-LAGAS-3300', 'Balero 6205', '12909'),
('3', '933318', 'RM3-LAGAS-3300', 'Reten 254125660', '12909'),
('4', '933319', 'RM4-LAGAS-3300', 'Gobernador', '12909'),
('5', '933320', 'RM5-LAGAS-3300', 'Eje de Gobernador', '12909'),
('6', '933321', 'RM6-LAGAS-3300', 'Arandela Ø6', '12909'),
('7', '933322', 'RM7-LAGAS-3300', 'Chaveta', '12909'),
('8', '933323', 'RM8-LAGAS-3300', 'Tornillo de drenado M10X14', '12909'),
('9', '933324', 'RM9-LAGAS-3300', 'Arandela Plana M10', '12909'),
('10', '933325', 'RM10-LAGAS-3300', 'Material:ST12', '12909'),
('11', '933326', 'RM11-LAGAS-3300', '96mm in length;Material:NBR', '12909'),
('12', '933327', 'RM12-LAGAS-3300', 'Perno guia', '12909'),
('13', '933328', 'RM13-LAGAS-3300', 'Pistón', '12909'),
('14', '933329', 'RM14-LAGAS-3300', 'Juego de Anillo', '12909'),
('15', '933330', 'RM15-LAGAS-3300', 'Ensamble de Biela', '12909'),
('16', '933331', 'RM16-LAGAS-3300', 'Perno de Pistón', '12909'),
('17', '933332', 'RM17-LAGAS-3300', 'Seguro de Pistón', '12909'),
('18', '933333', 'RM18-LAGAS-3300', 'Tapa de Carter', '12909'),
('19', '933334', 'RM19-LAGAS-3300', 'Tapón de Aceite', '12909'),
('20', '933335', 'RM20-LAGAS-3300', 'Bayoneta', '12909'),
('21', '933336', 'RM21-LAGAS-3300', 'Cabeza de Cilindro', '12909'),
('22', '933337', 'RM22-LAGAS-3300', 'Valvula de admisión', '12909'),
('23', '933338', 'RM23-LAGAS-3300', 'Valvula de Escape', '12909'),
('24', '933339', 'RM24-LAGAS-3300', 'Reten de Valvula', '12909'),
('25', '933340', 'RM25-LAGAS-3300', 'Resorte de Valvula', '12909'),
('26', '933341', 'RM26-LAGAS-3300', 'Seguro de Valvula de Admisión', '12909'),
('27', '933342', 'RM27-LAGAS-3300', 'Seguro de Valvula de escape', '12909'),
('28', '933343', 'RM28-LAGAS-3300', 'Base de Valvulas', '12909'),
('29', '933344', 'RM29-LAGAS-3300', 'Ensamble de Balancin', '12909'),
('30', '933345', 'RM30-LAGAS-3300', 'Aumento de Valvula de escape', '12909'),
('31', '933346', 'RM31-LAGAS-3300', 'Pernos de Carburador M6X113', '12909'),
('32', '933347', 'RM32-LAGAS-3300', 'Perno M8X35', '12909'),
('33', '933348', 'RM33-LAGAS-3300', 'Carburador', '12909'),
('34', '933349', 'RM34-LAGAS-3300', 'Manguera para Gasolina', '12909'),
('35', '933350', 'RM35-LAGAS-3300', 'Abrazadera', '12909'),
('36', '933351', 'RM36-LAGAS-3300', 'Palanca de Gobernador', '12909'),
('37', '933352', 'RM37-LAGAS-3300', 'Tornillo Especial M6', '12909'),
('38', '933353', 'RM38-LAGAS-3300', 'Tuerca M6', '12909'),
('38.1', '933354', 'RM38.1-LAGAS-3300', 'Tuerca Especial M6', '12909'),
('39', '933355', 'RM39-LAGAS-3300', 'Cigüeñal', '12909'),
('39.1', '933356', 'RM39.1-LAGAS-3300', 'Cuñero', '12909'),
('40', '933357', 'RM40-LAGAS-3300', 'Elevador de Valvulas', '12909'),
('41', '933358', 'RM41-LAGAS-3300', 'Junta de Carter', '12909'),
('42', '933359', 'RM42-LAGAS-3300', 'Arbol de Levas', '12909'),
('43', '933360', 'RM43-LAGAS-3300', 'Buje', '12909'),
('44', '933361', 'RM44-LAGAS-3300', 'Tornillo M8X30', '12909'),
('45', '933362', 'RM45-LAGAS-3300', 'Junta de Cilindro', '12909'),
('46', '933363', 'RM46-LAGAS-3300', 'Tornillo M8X60', '12909'),
('47', '933364', 'RM47-LAGAS-3300', 'Bujia', '12909'),
('48', '933365', 'RM48-LAGAS-3300', 'Punterias', '12909'),
('49', '933366', 'RM49-LAGAS-3300', 'Cubierta', '12909'),
('50', '933367', 'RM50-LAGAS-3300', 'Tornillo M6X12', '12909'),
('51', '933368', 'RM51-LAGAS-3300', 'Junta de tapa de punterias', '12909'),
('52', '933369', 'RM52-LAGAS-3300', 'Tapa de Punterias', '12909'),
('53', '933370', 'RM53-LAGAS-3300', 'Soporte Protector', '12909'),
('54', '933371', 'RM54-LAGAS-3300', 'Tornillo M6X20', '12909'),
('55', '933372', 'RM55-LAGAS-3300', 'Volante', '12909'),
('56', '933373', 'RM56-LAGAS-3300', 'Ventilador', '12909'),
('57', '933374', 'RM57-LAGAS-3300', 'Polea del arrancador', '12909'),
('58', '933375', 'RM58-LAGAS-3300', 'Tuerca M14', '12909'),
('59', '933376', 'RM59-LAGAS-3300', 'Bobina de Ignición', '12909'),
('60', '933377', 'RM60-LAGAS-3300', 'Tornillo M6X25', '12909'),
('61', '933378', 'RM61-LAGAS-3300', 'Junta de Base de Carburador', '12909'),
('62', '933379', 'RM62-LAGAS-3300', 'Base de Carburador', '12909'),
('63', '933380', 'RM63-LAGAS-3300', 'Junta de Carburador', '12909'),
('64', '933381', 'RM64-LAGAS-3300', 'Junta de Filtro', '12909'),
('65', '933382', 'RM65-LAGAS-3300', 'Varrilla de Aceleración', '12909'),
('66', '933383', 'RM66-LAGAS-3300', 'Resorte de Aceleración', '12909'),
('67', '933384', 'RM67-LAGAS-3300', 'Sistema de Arranque', '12909'),
('68', '933385', 'RM68-LAGAS-3300', 'Interruptor', '12909'),
('69', '933386', 'RM69-LAGAS-3300', 'Ensamble de Aceleración', '12909'),
('70', '933387', 'RM70-LAGAS-3300', 'Ensamble de Filtro de Aire', '12909'),
('70.2', '933388', 'RM70.2-LAGAS-3300', 'Tapa de Filtro', '12909'),
('70.4', '933389', 'RM70.4-LAGAS-3300', 'Filtro de carburación', '12909'),
('70.5', '933390', 'RM70.5-LAGAS-3300', 'Base de Filtro', '12909'),
('71', '933391', 'RM71-LAGAS-3300', 'Resorte de Gobernador', '12909'),
('72', '933392', 'RM72-LAGAS-3300', 'Tanque de Gasolina', '12909'),
('73', '933393', 'RM73-LAGAS-3300', 'Abrazadera de Arnes', '12909'),
('74', '933394', 'RM74-LAGAS-3300', 'Junta de Escape', '12909'),
('75', '933395', 'RM75-LAGAS-3300', 'Escape', '12909'),
('76', '933396', 'RM76-LAGAS-3300', 'Tuerca M8', '12909'),
('77', '933397', 'RM77-LAGAS-3300', 'Arrandela de presión', '12909'),
('79', '933398', 'RM79-LAGAS-3300', 'Tapon de Gasolina', '12909'),
('80', '933399', 'RM80-LAGAS-3300', 'Filtro de Gasolina', '12909'),
('1B', '951828', 'R1B-LAGAS-3300', 'Ensamble de carcasa de bomba con mirilla', '12909'),
('2B', '951829', 'R2B-LAGAS-3300', 'Tapon de aceite inferior  (Ø16x10), con Empaque', '12909'),
('3B', '951830', 'R3B-LAGAS-3300', 'Tapon de aceite superior (16x10)', '12909'),
('9B', '951831', 'R9B-LAGAS-3300', 'Balero Axial superior', '12909'),
('10B', '951832', 'R10B-LAGAS-3300', 'Seguro Ø11', '12909'),
('11B', '951833', 'R11B-LAGAS-3300', 'Casquillo del resorte', '12909'),
('12B', '951834', 'R12B-LAGAS-3300', 'Resorte del piston', '12909'),
('13B', '951835', 'R13B-LAGAS-3300', 'Piston (12x59)', '12909'),
('14B', '951836', 'R14B-LAGAS-3300', 'Sello de Hule (Ø74x2.8)', '12909'),
('15B', '951837', 'R15B-LAGAS-3300', 'Cuerpo intermedio', '12909'),
('16B', '951838', 'R16B-LAGAS-3300', 'Tornillo allen 8x25', '12909'),
('17B', '951839', 'R17B-LAGAS-3300', 'Sello de hule (Ø12x20x6)', '12909'),
('18B', '951840', 'R18B-LAGAS-3300', 'Arandela plana (Ø13x26x.5)', '12909'),
('19B', '951841', 'R19B-LAGAS-3300', 'Juego de Complemento de Sello de Agua', '12909'),
('29B', '951842', 'R29B-LAGAS-3300', 'Juego de Regulador de Presión', '12909'),
('49B', '951843', 'R49B-LAGAS-3300', 'Ensamble de Salida de Bomba', '12909'),
('53B', '951844', 'R53B-LAGAS-3300', 'Juego de Boquillas de Sujección', '12909'),
('58B', '951845', 'R58B-LAGAS-3300', 'Juego de Conector de Entrada', '12909'),
('63B', '951846', 'R63B-LAGAS-3300', 'Juego de Conector de Salida', '12909'),
('65B', '951847', 'R65B-LAGAS-3300', 'Ensamble de Cabeza de Bomba', '12909'),
('67B', '951848', 'R67B-LAGAS-3300', 'Sello de Hule (Ø4x8x2)', '12909'),
('70B', '951849', 'R70B-LAGAS-3300', 'Juego de Valvula de Retención', '12909'),
('75B', '951850', 'R75B-LAGAS-3300', 'Juego de Valvula Termostatica', '12909'),
('77B', '951851', 'R77B-LAGAS-3300', 'Abrazadera Ø16', '12909')
ON CONFLICT (codigo) DO NOTHING;